{
  "id": "mod-broker-@version@",
  "name": "crosslink broker",
  "provides": [
    {
      "id": "crosslink-broker",
      "version": "1.0",
      "handlers": [
        {
          "methods": [
            "GET"
          ],
          "pathPattern": "/broker/ill_transactions/{id}",
          "permissionsRequired": [
            "broker.ill_transactions.item.get"
          ]
        },
        {
          "methods": [
            "GET"
          ],
          "pathPattern": "/broker/ill_transactions",
          "permissionsRequired": [
            "broker.ill_transactions.get"
          ]
        },
        {
          "methods": [
            "GET"
          ],
          "pathPattern": "/broker/located_suppliers",
          "permissionsRequired": [
            "broker.located_suppliers.get"
          ]
        },
        {
          "methods": [
            "GET"
          ],
          "pathPattern": "/broker/events",
          "permissionsRequired": [
            "broker.events.get"
          ]
        },
        {
          "methods": [
            "GET"
          ],
          "pathPattern": "/broker/sse/events",
          "permissionsRequired": [
            "broker.sse.events.get"
          ]
        },
        {
          "methods": [
            "GET"
          ],
          "pathPattern": "/broker/peers/{id}",
          "permissionsRequired": [
            "broker.peers.item.get"
          ]
        },
        {
          "methods": [
            "GET"
          ],
          "pathPattern": "/broker/peers",
          "permissionsRequired": [
            "broker.peers.get"
          ]
        },
        {
          "methods": [
            "GET"
          ],
          "pathPattern": "/broker/patron_requests",
          "permissionsRequired": [
            "broker.patron_requests.get"
          ]
        },
        {
          "methods": [
            "POST"
          ],
          "pathPattern": "/broker/patron_requests",
          "permissionsRequired": [
            "broker.patron_requests.post"
          ]
        },
        {
          "methods": [
            "GET"
          ],
          "pathPattern": "/broker/patron_requests/{id}",
          "permissionsRequired": [
            "broker.patron_requests.item.get"
          ]
        },
        {
          "methods": [
            "DELETE"
          ],
          "pathPattern": "/broker/patron_requests/{id}",
          "permissionsRequired": [
            "broker.patron_requests.item.delete"
          ]
        },
        {
          "methods": [
            "GET"
          ],
          "pathPattern": "/broker/patron_requests/{id}/actions",
          "permissionsRequired": [
            "broker.patron_requests.item.actions.get"
          ]
        },
        {
          "methods": [
            "POST"
          ],
          "pathPattern": "/broker/patron_requests/{id}/action",
          "permissionsRequired": [
            "broker.patron_requests.item.action.post"
          ]
        }
      ]
    }
  ],
  "requires": [],
  "permissionSets": [
    {
      "description": "Read ILL transaction",
      "displayName": "ILL Broker - view all",
      "permissionName": "broker.all.read",
      "visible": true,
      "subPermissions": [
        "broker.ill_transactions.item.get",
        "broker.ill_transactions.get",
        "broker.located_suppliers.get",
        "broker.events.get",
        "broker.peers.item.get",
        "broker.peers.get"
      ]
    },
    {
      "description": "Read SSE events stream",
      "displayName": "Broker - read SSE events",
      "permissionName": "broker.sse.events.get"
    },
    {
      "description": "Read ILL transaction",
      "displayName": "Broker - read ILL transaction",
      "permissionName": "broker.ill_transactions.item.get"
    },
    {
      "description": "Read ILL transactions",
      "displayName": "Broker - read ILL transactions",
      "permissionName": "broker.ill_transactions.get"
    },
    {
      "description": "Read located suppliers",
      "displayName": "Broker - read located suppliers",
      "permissionName": "broker.located_suppliers.get"
    },
    {
      "description": "Read events",
      "displayName": "Broker - read events",
      "permissionName": "broker.events.get"
    },
    {
      "description": "Read peer",
      "displayName": "Broker - read peer",
      "permissionName": "broker.peers.item.get"
    },
    {
      "description": "Read peers",
      "displayName": "Broker - read peers",
      "permissionName": "broker.peers.get"
    },
    {
      "description": "List patron requests",
      "displayName": "Broker - read patron requests (list)",
      "permissionName": "broker.patron_requests.get"
    },
    {
      "description": "Create patron request",
      "displayName": "Broker - create patron request",
      "permissionName": "broker.patron_requests.post"
    },
    {
      "description": "Read a patron request",
      "displayName": "Broker - read patron request (item)",
      "permissionName": "broker.patron_requests.item.get"
    },
    {
      "description": "Delete a patron request",
      "displayName": "Broker - delete patron request (item)",
      "permissionName": "broker.patron_requests.item.delete"
    },
    {
      "description": "List actions for a patron request",
      "displayName": "Broker - read patron request actions",
      "permissionName": "broker.patron_requests.item.actions.get"
    },
    {
      "description": "Execute action for a patron request",
      "displayName": "Broker - execute patron request action",
      "permissionName": "broker.patron_requests.item.action.post"
    },
    {
      "description": "Read-only access to patron requests",
      "displayName": "Broker - patron requests: read",
      "permissionName": "broker.patron_requests.read",
      "visible": true,
      "subPermissions": [
        "broker.patron_requests.get",
        "broker.patron_requests.item.get",
        "broker.patron_requests.item.actions.get"
      ]
    },
    {
      "description": "Write access to patron requests",
      "displayName": "Broker - patron requests: write",
      "permissionName": "broker.patron_requests.write",
      "visible": true,
      "subPermissions": [
        "broker.patron_requests.post",
        "broker.patron_requests.item.delete",
        "broker.patron_requests.item.action.post"
      ]
    },
    {
      "description": "Read and write access to patron requests",
      "displayName": "Broker - patron requests: all",
      "permissionName": "broker.patron_requests.all",
      "visible": true,
      "subPermissions": [
        "broker.patron_requests.read",
        "broker.patron_requests.write"
      ]
    },
    {
      "description": "All broker permissions (read and write)",
      "displayName": "Broker - all permissions",
      "permissionName": "broker.all",
      "visible": true,
      "subPermissions": [
        "broker.ill_transactions.item.get",
        "broker.ill_transactions.get",
        "broker.located_suppliers.get",
        "broker.events.get",
        "broker.peers.item.get",
        "broker.peers.get",
        "broker.sse.events.get",
        "broker.patron_requests.get",
        "broker.patron_requests.post",
        "broker.patron_requests.item.get",
        "broker.patron_requests.item.delete",
        "broker.patron_requests.item.actions.get",
        "broker.patron_requests.item.action.post"
      ]
    }
  ]
}
